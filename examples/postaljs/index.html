<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Example of using Postal.js</title>

<script src="lodash.min.js" type="text/javascript"></script>
<script src="conduit.min.js" type="text/javascript"></script>
<script src="postal.min.js" type="text/javascript"></script>

<script type="text/javascript">

function ConsoleLogger() {
    var subscription = postal.subscribe({
        channel: "browser",
        topic: "click",
        callback: function(data, envelope) {
            console.log(envelope);
            console.log(data);
        }
    });
}

function HTMLLogger(element) {
    this.element = element;
    var self = this;
    var subscription = postal.subscribe({
        channel: "browser",
        topic: "click",
        callback: function(data, envelope) {
            document.getElementById(self.element).innerHTML += data;
            //console.log(data);
        }
    });
}

window.onclick = function() {
    postal.publish({
        channel: "browser",
        topic: "click",
        data: {
            a: "a",
            b: 21
        }
    });
}

var logger = new ConsoleLogger();
var htmlLog = new HTMLLogger("htmllogger");
</script>


</head>
<body>
   <div>Example</div>
   <div id="htmllogger"></div>
</body>
</html>
